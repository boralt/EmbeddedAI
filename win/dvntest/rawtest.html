<!DOCTYPE html>

<html>
<head>
 <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  
<style type="text/css">
 html, body {
    margin:0;
    padding:0;
    height:100%; 
 }
 
 #form1 { 
    position:relative; 
    display:block;
    background:#ccc; 
    height:600px; 
    width:600px;
    background-image:url('BB_00011.gif?x=2');
    background-repeat:no-repeat;
 }

.dentry_drop {
    position: absolute;
    font-size: 12px; 
    background-color: #ffAAAA;
    width: 20px; 
    border: solid 3px #000000;
    text-align: center;
}

.dentry_lat {
    position: absolute;
    font-size: 12px; 
    background-color: #AAAAFF;
    width: 20px; 
    border: solid 3px #000000;
    text-align: center;
}

 
 
.dres_drop {
    position: absolute;
    font-size: 12px; 
    background-color: #ffAAAA;
    width: 20px; 
    border: solid 3px #ff0000;
    text-align: center;
    user-select: none;
}

 
.dres_lat {
    position: absolute;
    font-size: 12px; 
    background-color: #AAAAFF;
    width: 20px; 
    border: solid 3px #ff0000;
    text-align: center;
    user-select: none;
}
 
 
#Drop-D1-L1-R1 { 
  left: 20px; 
  top: 200px; 
} 

#Drop-D1-L2-R1 { 
  left: 50px; 
  top: 200px; 
} 

#Drop-D2-L1-R1 { 
  left: 380px; 
  top: 200px; 
} 

#Drop-D2-L2-R1 { 
  left: 410px; 
  top: 200px; 
} 

#Latency-D1-L1-R1 { 
  left: 20px; 
  top: 220px; 
} 

#Latency-D1-L2-R1 { 
  left: 50px; 
  top: 220px; 
} 

#Latency-D2-L1-R1 { 
  left: 380px; 
  top: 220px; 
} 

#Latency-D2-L2-R1 { 
  left: 410px; 
  top: 220px; 
} 

  
#IngressLinkConj-L1 {
  left: 130px; 
  top: 380px; 
}

#IngressLinkConj-L2 {
  left: 220px; 
  top: 380px; 
}

#EgressLinkConj-R1 {
  left: 190px; 
  top: 80px; 
}
 
#DeflectConj-D1 {
  left: 170px; 
  top: 260px; 
}

#DeflectConj-D2 {
  left: 345px; 
  top: 260px; 
}

 
#LatencyLocal-D1-L1 {
  left: 130px; 
  top: 330px; 
 
}

#LatencyLocal-D1-L2 {
  left: 170px; 
  top: 330px; 

}
 
#LatencyLocal-D2-L1 {
  left: 220px; 
  top: 330px; 

}

#LatencyLocal-D2-L2 {
  left: 270px; 
  top: 330px; 

}

#LatencyRemote-D1-R1 {
  left: 130px; 
  top: 140px; 

}

#LatencyRemote-D2-R1 {
  left: 280px; 
  top: 140px; 

}
 
#Update {
  position: absolute;
  left: 345px;
  top: 460px;
 }
 

 
 #TestType {
  position: absolute;
  left: 345px;
  top: 500px;
 }
 

 
 #lpost {
  position: absolute;
  left: 345px; 
  top: 550px; 
 }

 
 </style>  
  
</head>

<body>

<div id="form1">  
<form action = "./cgi-bin/dvntest.exe" method = "post" width="100%" height="100%">
<input type = "text" name = "Drop-D1-L1-R1" id="Drop-D1-L1-R1" class="dentry_drop" > <br />
<input type = "text" name = "Drop-D1-L2-R1" id="Drop-D1-L2-R1" class="dentry_drop" > <br />
<input type = "text" name = "Drop-D2-L1-R1" id="Drop-D2-L1-R1" class="dentry_drop" > <br />
<input type = "text" name = "Drop-D2-L2-R1" id="Drop-D2-L2-R1" class="dentry_drop" > <br />

<input type = "text" name = "Latency-D1-L1-R1" id="Latency-D1-L1-R1" class="dentry_lat" > <br />
<input type = "text" name = "Latency-D1-L2-R1" id="Latency-D1-L2-R1" class="dentry_lat" > <br />
<input type = "text" name = "Latency-D2-L1-R1" id="Latency-D2-L1-R1" class="dentry_lat" > <br />
<input type = "text" name = "Latency-D2-L2-R1" id="Latency-D2-L2-R1" class="dentry_lat" > <br />

<input type = "text" name = "IngressLinkConj-L1" id="IngressLinkConj-L1" class="dres_drop" > <br />
<input type = "text" name = "IngressLinkConj-L2" id="IngressLinkConj-L2" class="dres_drop" > <br />

<input type = "text" name = "EggressLinkConj-R1" id="EgressLinkConj-R1" class="dres_drop" > <br />

<input type = "text" name = "DeflectConj-D1" id="DeflectConj-D1" class="dres_drop" > <br />
<input type = "text" name = "DeflectConj-D2" id="DeflectConj-D2" class="dres_drop" > <br />

<input type = "text" name = "LatencyLocal-D1-L1" id="LatencyLocal-D1-L1" class="dres_lat" > <br />
<input type = "text" name = "LatencyLocal-D1-L2" id="LatencyLocal-D1-L2" class="dres_lat" > <br />
<input type = "text" name = "LatencyLocal-D2-L1" id="LatencyLocal-D2-L1" class="dres_lat" > <br />
<input type = "text" name = "LatencyLocal-D2-L2" id="LatencyLocal-D2-L2" class="dres_lat" > <br />

<input type = "text" name = "LatencyRemote-D1-R1" id="LatencyRemote-D1-R1" class="dres_lat" > <br />
<input type = "text" name = "LatencyRemote-D2-R1" id="LatencyRemote-D2-R1" class="dres_lat" > <br />


<select name="Update" id="Update" >
  <option value="0">None</option>
  <option value="1">Squelch Local #1</option>
  <option value="2">Squelch Local #2</option>
  <option value="3">Squelch Local #3</option>
  <option value="4">Roll D1</option>
  <option value="5">Roll D2</option>
  
</select>
<br/>


<select name="TestType" id="TestType" >
  <option value="Find">Find All</option>
  <option value="Defl">Deflect 1</option>
  <option value="Conj">Optimize</option>
  
</select>
<br/>

<input type = "submit" value = "Submit" id="lpost" />
</form>
</div>

<br>
<div id="result"> res </div>

<script>
  /* attach a submit handler to the form */
  $("#form1").submit(function(event) {
  
  /* stop form from submitting normally */
  event.preventDefault();

  var $form = $(this);
  var dataPart = "{";
  $('#form1 *').filter(':input').each(function(e){
     dataPart += '"'+this.name + '":"' + this.value + '",';
  });
  
  dataPart += '"dummy":"0"}'
  var req = $("#TestType").val();
  var posting = $.post("./cgi-bin/dvntest.exe", {
  //req: "Find",
     req: req,
     data: dataPart 
  });             
  
  /* Put the results in a div */
  posting.done(function(data) {
  //var content = $(data).find('#content');

  var obj = JSON.parse(data);
  for (var key in obj) {
    if (obj.hasOwnProperty(key)) {
        var el = "#" + key
        if($(el).length) {
           $(el).val(obj[key])
        }
    }
  }
  
  $("#result").empty().append(data);
  });
  

  });


  
</script>  


</body>
